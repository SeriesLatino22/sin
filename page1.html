<!DOCTYPE html>
<html>
<head>
    <title>Reproductor de Video</title>
    <link rel="stylesheet" href="https://cdn.plyr.io/3.6.8/plyr.css">
</head>
<body>
    <video id="videoPlayer" controls>
        <source src="https://m.ok.ru/dk/video.m3u8?st.cmd=moviePlaybackRedirect&amp;st.sig=cf87a71b53afe0830f919678626f4b64e97ed2fb&amp;st.mq=2&amp;st.mvid=5296999959293&amp;st.ip=186.30.7.42&amp;st.dla=on&amp;st.exp=1687651883376&amp;st.hls=on&amp;_prevCmd=movieLayer&amp;tkn=7373" type="application/x-mpegURL">
    </video>

    <script src="https://cdn.plyr.io/3.6.8/plyr.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const player = new Plyr('#videoPlayer', {
                controls: ['play-large', 'play', 'progress', 'current-time', 'mute', 'volume', 'settings', 'fullscreen'],
                seekTime: 10
            });

            // Obtén el reproductor de video nativo
            const nativePlayer = player.get('elements').player;

            // Obtén la fuente del archivo MP4
            const source = document.querySelector('#videoPlayer source');

            // Remueve la fuente del archivo MPEGURL
            source.removeAttribute('type');

            // Establece el tipo de fuente del archivo MP4
            source.setAttribute('type', 'video/mp4');

            // Actualiza el reproductor para que utilice el archivo MP4
            nativePlayer.load();
        });
    </script>
</body>
</html>

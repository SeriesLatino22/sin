<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Video Playlist MOD Xavier Suarez</title>
<!-- Responsive viewport -->
<meta content='width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0' name='viewport'/>
<link rel="stylesheet" href="https://cdn.plyr.io/3.6.12/plyr.css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-xxxxx" crossorigin="anonymous" />
<link href="ladyt1-o1.css" rel="stylesheet">
<!-- JW Player CDN -->
<script src="https://cdn.jwplayer.com/libraries/Z6gj1tYi.js"></script>
</head>
<body>

<div class="scroll-button" id="scroll-button">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ1DCheRLhxDOU0Sie97vrJsc51LTLNJxKz-MhA-jVCRI_d8jsofkIenFjSDW7D8d5EvKU&usqp=CAU" alt="Flecha hacia abajo">
  </div>

<div class="container">
<div class="main-video">
<div class="video">
  <div id="jwplayer"></div>
<h3 class="title">Capitulo 1x1</h3></div></div>
<div class="video-list">
<div class="vid active"> 
<div id="jwplayer2"></div>
<h3 class="title">Capitulo 1</h3></div>
<div class="vid active"> 
<div id="jwplayer3"></div>
<h3 class="title">Capitulo 2</h3></div>
</div></div>

<script>

  // Obtener referencias a los elementos del reproductor de video
  const mainVideoElement = document.querySelector('.main-video');
  const listVideoElements = document.querySelectorAll('.video-list .vid');

  // Función para cargar un video en el reproductor JW Player
  function loadJWPlayer(videoElementId, videoSource) {
    jwplayer(videoElementId).setup({
      file: videoSource,
      width: '100%',
      aspectratio: '16:9',
      autostart: false,
      controls: true,
      mute: true,
      advertising: {
        client: 'vast',
        tag: 'https://www.example.com/vast.xml'
      }
    });
  }

  // Evento de click en los videos de la lista
  listVideoElements.forEach((videoElement, index) => {
    videoElement.addEventListener('click', function() {
      listVideoElements.forEach((vid) => vid.classList.remove('active'));
      this.classList.add('active');
      const videoSource = this.querySelector('video').getAttribute('src');
      const videoElementId = 'jwplayer' + (index + 1);
      mainVideoElement.querySelector('.title').innerHTML = this.querySelector('.title').innerHTML;
      mainVideoElement.querySelector('.title').scrollIntoView({ behavior: 'smooth' });
      loadJWPlayer(videoElementId, videoSource);
    });
  });

  // Cargar el primer video en el reproductor principal al cargar la página
  const firstVideoSource = listVideoElements[0].querySelector('video').getAttribute('src');
  const firstVideoElementId = 'jwplayer';
  mainVideoElement.querySelector('.title').innerHTML = listVideoElements[0].querySelector('.title').innerHTML;
  loadJWPlayer(firstVideoElementId, firstVideoSource);
</script>

</body>
</html>

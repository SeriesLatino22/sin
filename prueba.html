<!DOCTYPE html>
<html>
<head>
  <link href="https://vjs.zencdn.net/7.14.3/video-js.min.css" rel="stylesheet">
</head>
<body>
  <div class="main-video">
    <video id="main-video" class="video-js vjs-default-skin" controls muted preload="auto" width="640" height="360" poster="https://media.discordapp.net/attachments/1000156875129634857/1002017889257490432/D6v11ANVwAAIh2V.jpg">
      <source src="https://m.ok.ru/dk/video.m3u8?st.cmd=moviePlaybackRedirect&amp;st.sig=c43ddabfbfd48914d5fd6fde7a0f14c947fde9a4&amp;st.mq=1&amp;st.mvid=5452283288853&amp;st.ip=186.155.103.151&amp;st.dla=off&amp;st.exp=1687756017884&amp;st.hls=on&amp;_prevCmd=movieLayer&amp;tkn=7981" type="application/x-mpegURL">
    </video>
    <h3 class="title">Capitulo 1x1</h3>
  </div>

  <div class="video-list">
    <div class="vid active">
      <video class="video-js vjs-default-skin" controls muted preload="auto" width="160" height="90" poster="https://media.discordapp.net/attachments/1000156875129634857/1002017946633706490/cWAbTl8QxejjHK5k4o0j2eXmUln.jpg">
        <source src="https://m.ok.ru/dk/video.m3u8?st.cmd=moviePlaybackRedirect&amp;st.sig=d11c832d4ea4d49b6abf0d6b0c334ff10025a3a5&amp;st.mq=1&amp;st.mvid=5452283165597&amp;st.ip=186.155.103.151&amp;st.dla=off&amp;st.exp=1687756017884&amp;st.hls=on&amp;_prevCmd=movieLayer&amp;tkn=7981" type="application/x-mpegURL">
      </video>
      <h3>Capitulo 1x1</h3>
    </div>
    <div class="vid">
      <video class="video-js vjs-default-skin" controls muted preload="auto" width="160" height="90" poster="https://media.discordapp.net/attachments/1000156875129634857/1002018022783261691/Z3n0p12GlBFCW1QR8a2NjYri1b.jpg">
        <source src="https://m.ok.ru/dk/video.m3u8?st.cmd=moviePlaybackRedirect&amp;st.sig=44b32e7790d7e37fb7856690b12d503d93ab6ed9&amp;st.mq=2&amp;st.mvid=5452283091933&amp;st.ip=186.155.103.151&amp;st.dla=off&amp;st.exp=1687756017884&amp;st.hls=on&amp;_prevCmd=movieLayer&amp;tkn=7981" type="application/x-mpegURL">
      </video>
      <h3>Capitulo 1x2</h3>
    </div>
  </div>

  <script src="https://vjs.zencdn.net/7.14.3/video.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Configuración del reproductor principal
      const mainVideo = videojs('main-video');

      // Reproducir el video de la lista al hacer clic en él
      const videos = document.querySelectorAll('.video-list .vid video');
      videos.forEach(video => {
        video.addEventListener('click', () => {
          const src = video.querySelector('source').src;
          const title = video.nextElementSibling.textContent;

          // Cargar el video desde la nueva posición al adelantar o retroceder
          mainVideo.on('seeked', () => {
            const currentTime = mainVideo.currentTime();
            mainVideo.src(src);
            mainVideo.currentTime(currentTime);
            mainVideo.play();
          });

          // Cambiar el título del video principal
          document.querySelector('.main-video .title').textContent = title;

          // Cambiar la clase activa en la lista de videos
          document.querySelector('.video-list .vid.active').classList.remove('active');
          video.parentElement.classList.add('active');
        });
      });

      // Mostrar/ocultar la barra de controles del video principal al hacer clic en el área de reproducción
      mainVideo.on('click', () => {
        if (mainVideo.controlBar.hidden()) {
          mainVideo.controlBar.show();
        } else {
          mainVideo.controlBar.hide();
        }
      });

      // Mostrar/ocultar la barra de controles del video principal al hacer clic en el botón de reproducción
      const playButton = document.querySelector('.vjs-play-control');
      playButton.addEventListener('click', () => {
        if (mainVideo.controlBar.hidden()) {
          mainVideo.controlBar.show();
        } else {
          mainVideo.controlBar.hide();
        }
      });

      // Mostrar/ocultar el botón de scroll al hacer scroll
      const scrollButton = document.querySelector('#scroll-button');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 100) {
          scrollButton.style.display = 'block';
        } else {
          scrollButton.style.display = 'none';
        }
      });

      // Hacer scroll hacia la lista de videos al hacer clic en el botón de scroll
      scrollButton.addEventListener('click', () => {
        const videoList = document.querySelector('.video-list');
        videoList.scrollIntoView({ behavior: 'smooth' });
      });
    });
  </script>
</body>
</html>
